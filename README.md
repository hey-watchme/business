# WatchMe Business API

å…ç«¥ç™ºé”æ”¯æ´äº‹æ¥­æ‰€å‘ã‘å€‹åˆ¥æ”¯æ´è¨ˆç”»è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ä¿è­·è€…ãƒ’ã‚¢ãƒªãƒ³ã‚°éŸ³å£°ã‹ã‚‰ã€AIã‚’æ´»ç”¨ã—ã¦å€‹åˆ¥æ”¯æ´è¨ˆç”»æ›¸ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹B2Bå‘ã‘ã‚µãƒ¼ãƒ“ã‚¹ã€‚

## ğŸ—ï¸ æ§‹æˆ

```
business/
â”œâ”€â”€ backend/               # FastAPI (Python 3.11) - Port 8052
â”œâ”€â”€ frontend/              # React PWA (TypeScript) - Port 5176
â”œâ”€â”€ infrastructure/        # ã‚¤ãƒ³ãƒ•ãƒ©è¨­å®š
â”‚   â””â”€â”€ supabase/         # DBå®šç¾©
â””â”€â”€ docs/                 # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

## ğŸŒ ãƒãƒ¼ãƒˆç•ªå·

- **Backend API**: 8052
- **Frontend**: 5176

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[å®Ÿè£…è¨ˆç”»æ›¸](./IMPLEMENTATION_PLAN.md)** - å…¨ä½“è¨­è¨ˆãƒ»æŠ€è¡“ä»•æ§˜
- **[é–‹ç™ºé€²æ—](./STATUS.md)** - ç¾åœ¨ã®é€²æ—ãƒ»æ¬¡ã®ã‚¿ã‚¹ã‚¯
- **[DBå®šç¾©](./infrastructure/supabase/create_tables.sql)** - Supabaseãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Frontend**: React + TypeScript + Vite + PWA
- **Backend**: FastAPI (Python 3.11)
- **Storage**: AWS S3 (watchme-business)
- **Database**: Supabase (`business_*` ãƒ†ãƒ¼ãƒ–ãƒ«)
- **AI**: Groq Whisper v3 + OpenAI GPT-4o
- **Deploy**: GitHub Actions â†’ ECR â†’ EC2 (Sydney)

## ğŸ”§ é–‹ç™ºçŠ¶æ³

**é€²æ—**: ç´„50% (ãƒˆãƒ©ãƒ³ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ»åˆ†ææ©Ÿèƒ½å®Œäº†)

è©³ç´°ã¯ [NEXT_SESSION.md](./NEXT_SESSION.md) å‚ç…§

---

## âš ï¸ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã«ã¤ã„ã¦

**ç¾åœ¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ãƒ†ã‚¹ãƒˆã¯ä¸å¯**

- ãƒ­ãƒ¼ã‚«ãƒ«Dockerç’°å¢ƒã¯æœªæ•´å‚™
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰â‡”ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã§CORSã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
- **ãƒ†ã‚¹ãƒˆãƒ»å‹•ä½œç¢ºèªã¯æœ¬ç•ªç’°å¢ƒï¼ˆEC2ï¼‰ã§å®Ÿæ–½ã™ã‚‹ã“ã¨**

### é–‹ç™ºãƒ•ãƒ­ãƒ¼

1. ã‚³ãƒ¼ãƒ‰ä¿®æ­£ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
2. æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã®ã¿å®Ÿæ–½
   ```bash
   python3 -m py_compile backend/app.py
   ```
3. GitHubçµŒç”±ã§ãƒ‡ãƒ—ãƒ­ã‚¤
   ```bash
   git push origin main
   ```
4. æœ¬ç•ªç’°å¢ƒã§å‹•ä½œç¢ºèª
   - Frontend: https://business.hey-watch.me
   - Backend: https://api.hey-watch.me/business

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆéŸ³æº

### S3ãƒ‘ã‚¹

```
s3://watchme-business/samples/
â”œâ”€â”€ full_raw.wav           # ãƒ•ãƒ«ç‰ˆï¼ˆ87MBãƒ»ç´„15åˆ†ï¼‰
â”œâ”€â”€ section001_raw.wav     # æŠœç²‹ç‰ˆãƒ»ç”ŸéŸ³å£°ï¼ˆ3.1MBãƒ»ç´„30ç§’ï¼‰â˜…æ¨å¥¨
â””â”€â”€ section001_clean.wav   # æŠœç²‹ç‰ˆãƒ»ãƒã‚¤ã‚ºé™¤å»ï¼ˆ3.1MBï¼‰
```

### ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ¨å¥¨ï¼‰

**è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ:**
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ
./test-transcription.sh section001_raw.wav
./test-transcription.sh full_raw.wav
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ï¼š
1. S3ã‹ã‚‰ãƒ†ã‚¹ãƒˆéŸ³æºãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
2. `/api/upload` ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆDBç™»éŒ²ãƒ»S3ä¿å­˜ï¼‰
3. `/api/transcribe` ã§ãƒˆãƒ©ãƒ³ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
4. çµæœã‚’JSONå½¢å¼ã§è¡¨ç¤º

**æœ¬ç•ªåŒæ§˜ã®ãƒ•ãƒ«ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆå¯èƒ½**ï¼ˆéŒ²éŸ³ä»¥å¤–ã®ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚»ã‚¹ï¼‰

### æ‰‹å‹•ãƒ†ã‚¹ãƒˆ

**ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:**
```bash
aws s3 cp s3://watchme-business/samples/section001_raw.wav . \
  --region ap-southeast-2
```

**ç½²åä»˜ãURLç”Ÿæˆï¼ˆ1æ™‚é–“æœ‰åŠ¹ï¼‰:**
```bash
aws s3 presign s3://watchme-business/samples/section001_raw.wav \
  --region ap-southeast-2 --expires-in 3600
```

### éŸ³æºã«ã¤ã„ã¦

- **ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³**: ä¿è­·è€…ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆå…ç«¥ç™ºé”æ”¯æ´ï¼‰
- **éŒ²éŸ³æ—¥**: 2025-05-08
- **æ¨å¥¨**: `section001_raw.wav`ï¼ˆã‚¹ãƒãƒ›éŒ²éŸ³ãƒ»ãƒã‚¤ã‚ºé™¤å»ãªã—ï¼‰

---

## ğŸ“ License

Proprietary - WatchMe Inc.