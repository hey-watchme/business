# å…ç«¥ç™ºé”æ”¯æ´äº‹æ¥­æ‰€ DXãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  å®Ÿè£…è¨ˆç”»æ›¸

æœ€çµ‚æ›´æ–°: 2026-01-10

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ãƒ“ã‚¸ãƒ§ãƒ³
å…ç«¥ç™ºé”æ”¯æ´äº‹æ¥­æ‰€ã®å…¨æ¥­å‹™ã‚’ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ã—ã€è·å“¡ã®è² æ‹…è»½æ¸›ã¨æ”¯æ´ã®è³ªå‘ä¸Šã‚’å®Ÿç¾

### ç¬¬1å¼¾ï¼šå€‹åˆ¥æ”¯æ´è¨ˆç”»æ›¸ã®è‡ªå‹•ç”Ÿæˆï¼ˆPOCï¼‰
ä¿è­·è€…ãƒ’ã‚¢ãƒªãƒ³ã‚°éŸ³å£°ï¼ˆç´„1æ™‚é–“ï¼‰ã‹ã‚‰ã€AIåˆ†æã«ã‚ˆã‚Šå€‹åˆ¥æ”¯æ´è¨ˆç”»æ›¸ã‚’è‡ªå‹•ç”Ÿæˆ

---

## ğŸ¯ å€‹åˆ¥æ”¯æ´è¨ˆç”»æ›¸ã®æ§‹é€ ï¼ˆãƒªã‚¿ãƒªã‚³æ§˜å¼ãƒ™ãƒ¼ã‚¹ï¼‰

### å¿…é ˆé …ç›®

```yaml
åŸºæœ¬æƒ…å ±:
  - åˆ©ç”¨å…æ°å
  - ç”Ÿå¹´æœˆæ—¥
  - å¹´é½¢
  - ä½œæˆå¹´æœˆæ—¥

åˆ©ç”¨å…åŠã³å®¶æ—ã®ç”Ÿæ´»ã«å¯¾ã™ã‚‹æ„å‘:
  - æœ¬äººã®æ„å‘
  - ä¿è­·è€…ã®æ„å‘

ç·åˆçš„ãªæ”¯æ´ã®æ–¹é‡:
  - ç¾åœ¨ã®çŠ¶æ³åˆ†æ
  - æ”¯æ´ã®åŸºæœ¬æ–¹é‡
  - é€£æºæ–¹æ³•

é•·æœŸç›®æ¨™:
  - æœŸé–“: 6ãƒ¶æœˆ
  - å†…å®¹: å…¨ä½“çš„ãªåˆ°é”ç›®æ¨™

çŸ­æœŸç›®æ¨™:
  - æœŸé–“: 3ãƒ¶æœˆ
  - å†…å®¹: å…·ä½“çš„ãªåˆ°é”ç›®æ¨™

æ”¯æ´å†…å®¹ï¼ˆ5é ˜åŸŸï¼‰:
  1. å¥åº·ãƒ»ç”Ÿæ´»
  2. é‹å‹•ãƒ»æ„Ÿè¦š
  3. èªçŸ¥ãƒ»è¡Œå‹•
  4. è¨€èªãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
  5. äººé–“é–¢ä¿‚ãƒ»ç¤¾ä¼šæ€§

å„æ”¯æ´é …ç›®:
  - æ”¯æ´ç›®æ¨™ï¼ˆå…·ä½“çš„ãªåˆ°é”ç›®æ¨™ï¼‰
  - æ”¯æ´å†…å®¹ï¼ˆæä¾›ä¸Šã®ãƒã‚¤ãƒ³ãƒˆï¼‰
  - é”æˆæ™‚æœŸï¼ˆ3ãƒ¶æœˆ/6ãƒ¶æœˆï¼‰
  - æ‹…å½“è€…
  - ç•™æ„äº‹é …
  - å„ªå…ˆé †ä½ï¼ˆ1-3ï¼‰
```

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ç†ç”± |
|---------|------|------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | React + TypeScript + Vite | PWAå¯¾å¿œã€é«˜é€Ÿãƒ“ãƒ«ãƒ‰ |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | FastAPIï¼ˆPython 3.11ï¼‰ | é«˜é€Ÿã€AIé€£æºã—ã‚„ã™ã„ |
| **éŸ³å£°å‡¦ç†** | Groq Whisper v3 | æ—¥æœ¬èªç²¾åº¦é«˜ã„ã€é«˜é€Ÿ |
| **LLM** | OpenAI GPT-4o | æ—¥æœ¬èªç†è§£åŠ›ã€æ§‹é€ åŒ–èƒ½åŠ› |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | Supabaseï¼ˆæ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ | èªè¨¼æ©Ÿèƒ½ä»˜ãã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  |
| **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** | S3ï¼ˆã‚·ãƒ‰ãƒ‹ãƒ¼ï¼‰ | æ—¢å­˜EC2ã¨åŒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ |
| **ã‚¤ãƒ³ãƒ•ãƒ©** | æ—¢å­˜EC2ï¼ˆã‚·ãƒ‰ãƒ‹ãƒ¼ï¼‰ | t4g.largeã€Dockerç’°å¢ƒæ§‹ç¯‰æ¸ˆã¿ |

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```mermaid
graph LR
    A[éŒ²éŸ³ï¼ˆ1åˆ†â†’æœ€çµ‚1æ™‚é–“ï¼‰] --> B[S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰]
    B --> C[Lambda/API]
    C --> D[Whisperæ–‡å­—èµ·ã“ã—]
    D --> E[GPT-4oæ§‹é€ åŒ–]
    E --> F[DBä¿å­˜]
    F --> G[ç”»é¢è¡¨ç¤º]
    E --> H[Excelç”Ÿæˆï¼ˆå°†æ¥ï¼‰]
```

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
/projects/watchme/business/
â”œâ”€â”€ docs/                    # è¨ˆç”»æ›¸ãƒ»ä»•æ§˜æ›¸
â”‚   â””â”€â”€ IMPLEMENTATION_PLAN.mdï¼ˆã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”œâ”€â”€ infrastructure/
â”‚   â”œâ”€â”€ s3/                 # S3ãƒã‚±ãƒƒãƒˆè¨­å®š
â”‚   â””â”€â”€ supabase/           # DBè¨­è¨ˆ
â”œâ”€â”€ backend/                 # FastAPI
â”‚   â”œâ”€â”€ app.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ transcription.py    # Whisperé€£æº
â”‚   â”‚   â”œâ”€â”€ llm_processor.py    # GPT-4oå‡¦ç†
â”‚   â”‚   â””â”€â”€ plan_generator.py   # è¨ˆç”»æ›¸ç”Ÿæˆ
â”‚   â””â”€â”€ docker/
â”‚       â””â”€â”€ Dockerfile
â””â”€â”€ frontend/               # React PWA
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â”œâ”€â”€ RecordingPage.tsx
    â”‚   â”‚   â””â”€â”€ PlanViewPage.tsx
    â”‚   â””â”€â”€ components/
    â””â”€â”€ public/
```

---

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ

### S3ãƒã‚±ãƒƒãƒˆæ§‹æˆ

```
watchme-business/ï¼ˆæ–°è¦ãƒã‚±ãƒƒãƒˆãƒ»ã‚·ãƒ‰ãƒ‹ãƒ¼ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
â”œâ”€â”€ recordings/              # ãƒ’ã‚¢ãƒªãƒ³ã‚°éŸ³å£°
â”‚   â””â”€â”€ {facility_id}/
â”‚       â””â”€â”€ {child_id}/
â”‚           â””â”€â”€ {yyyy-mm-dd}/
â”‚               â””â”€â”€ {session_id}.webm
â”œâ”€â”€ transcriptions/          # æ–‡å­—èµ·ã“ã—çµæœ
â”‚   â””â”€â”€ {facility_id}/
â”‚       â””â”€â”€ {session_id}.json
â””â”€â”€ plans/                   # ç”Ÿæˆã•ã‚ŒãŸè¨ˆç”»æ›¸
    â””â”€â”€ {facility_id}/
        â””â”€â”€ {child_id}/
            â””â”€â”€ {yyyy-mm-dd}_plan.json
```

### Supabaseãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆï¼ˆæ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã§è¿½åŠ ï¼‰

**âš ï¸ é‡è¦**: æ–°è¦ã‚¹ã‚­ãƒ¼ãƒã§ã¯ãªãã€æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® `public` ã‚¹ã‚­ãƒ¼ãƒå†…ã« `business_` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ããƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ

**ç†ç”±**: Supabaseã¯2ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¾ã§ç„¡æ–™ã€‚POCæ®µéšã§ã¯æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ´»ç”¨ã€‚

```sql
-- äº‹æ¥­æ‰€ãƒã‚¹ã‚¿
CREATE TABLE public.business_facilities (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  address TEXT,
  phone TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- å…ç«¥æƒ…å ±
CREATE TABLE public.business_children (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  facility_id UUID REFERENCES public.business_facilities(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  birth_date DATE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³
CREATE TABLE public.business_interview_sessions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  facility_id UUID NOT NULL,
  child_id UUID REFERENCES public.business_children(id) ON DELETE CASCADE,
  s3_audio_path TEXT,
  transcription TEXT,        -- Whisperçµæœ
  status TEXT DEFAULT 'recording',  -- recording, processing, completed
  duration_seconds INTEGER,
  recorded_at TIMESTAMPTZ DEFAULT NOW(),
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- å€‹åˆ¥æ”¯æ´è¨ˆç”»
CREATE TABLE public.business_support_plans (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id UUID REFERENCES public.business_interview_sessions(id) ON DELETE CASCADE,
  child_id UUID REFERENCES public.business_children(id) ON DELETE CASCADE,

  -- åŸºæœ¬æƒ…å ±
  child_name TEXT,
  birth_date DATE,
  age_years INTEGER,
  age_months INTEGER,

  -- æ„å‘
  child_intention TEXT,
  family_intention TEXT,

  -- æ”¯æ´æ–¹é‡
  general_policy TEXT,
  long_term_goal TEXT,
  long_term_period TEXT DEFAULT '6ãƒ¶æœˆ',
  short_term_goal TEXT,
  short_term_period TEXT DEFAULT '3ãƒ¶æœˆ',

  -- æ”¯æ´å†…å®¹ï¼ˆJSONBå½¢å¼ã§5é ˜åŸŸã‚’æ ¼ç´ï¼‰
  support_details JSONB,
  /*
  {
    "health_life": [
      {
        "goal": "ç›®æ¨™",
        "content": "æ”¯æ´å†…å®¹",
        "period": "3ãƒ¶æœˆ",
        "staff": "æ‹…å½“è€…",
        "notes": "ç•™æ„äº‹é …",
        "priority": 1
      }
    ],
    "motor_sensory": [...],
    "cognitive_behavior": [...],
    "language_communication": [...],
    "social_relationships": [...]
  }
  */

  -- ç®¡ç†æƒ…å ±
  created_by UUID,
  approved_by UUID,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- RLSï¼ˆRow Level Securityï¼‰ãƒãƒªã‚·ãƒ¼
-- POCæ®µéšã§ã¯å…¨ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ï¼ˆå°†æ¥çš„ã«èªè¨¼å®Ÿè£…ï¼‰
ALTER TABLE public.business_facilities ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.business_children ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.business_interview_sessions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.business_support_plans ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Allow all access for POC" ON public.business_facilities FOR ALL USING (true);
CREATE POLICY "Allow all access for POC" ON public.business_children FOR ALL USING (true);
CREATE POLICY "Allow all access for POC" ON public.business_interview_sessions FOR ALL USING (true);
CREATE POLICY "Allow all access for POC" ON public.business_support_plans FOR ALL USING (true);
```

---

## ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼è©³ç´°

### Phase 1: POCï¼ˆ1åˆ†éŸ³å£°ï¼‰

```python
# 1. éŸ³å£°ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
POST /api/upload
{
  "audio": file,
  "facility_id": "poc-001",
  "child_id": "child-001"
}

# 2. Whisperæ–‡å­—èµ·ã“ã—ï¼ˆGroq APIï¼‰
transcription = groq.audio.transcribe(
  model="whisper-large-v3",
  file=audio_file,
  language="ja"
)

# 3. GPT-4oæ§‹é€ åŒ–
prompt = f"""
ä»¥ä¸‹ã®ä¿è­·è€…ãƒ’ã‚¢ãƒªãƒ³ã‚°å†…å®¹ã‹ã‚‰ã€å€‹åˆ¥æ”¯æ´è¨ˆç”»æ›¸ã®è¦ç´ ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚

ãƒ’ã‚¢ãƒªãƒ³ã‚°å†…å®¹ï¼š
{transcription}

ä»¥ä¸‹ã®å½¢å¼ã§JSONã¨ã—ã¦å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
{{
  "child_intention": "æœ¬äººã®æ„å‘",
  "family_intention": "ä¿è­·è€…ã®æ„å‘",
  "current_status": "ç¾åœ¨ã®çŠ¶æ³",
  "strengths": "å¼·ã¿ãƒ»å¾—æ„ãªã“ã¨",
  "challenges": "å›°ã‚Šã”ã¨ãƒ»èª²é¡Œ",
  "support_needs": {{
    "health_life": ["å¿…è¦ãªæ”¯æ´"],
    "motor_sensory": ["å¿…è¦ãªæ”¯æ´"],
    "cognitive_behavior": ["å¿…è¦ãªæ”¯æ´"],
    "language_communication": ["å¿…è¦ãªæ”¯æ´"],
    "social_relationships": ["å¿…è¦ãªæ”¯æ´"]
  }}
}}
"""

# 4. DBä¿å­˜ & è¡¨ç¤º
```

### Phase 2: é•·å°ºå¯¾å¿œï¼ˆ1æ™‚é–“éŸ³å£°ï¼‰

- **åˆ†å‰²å‡¦ç†**: 10åˆ†ã”ã¨ã«ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²
- **ä¸¦åˆ—å‡¦ç†**: è¤‡æ•°ãƒãƒ£ãƒ³ã‚¯ã‚’åŒæ™‚å‡¦ç†
- **çµåˆå‡¦ç†**: GPT-4oã§å…¨ä½“ã‚’çµ±åˆ

---

## ğŸ“Š ã‚¹ã‚±ãƒ¼ãƒ«æƒ³å®š

| é …ç›® | åˆæœŸï¼ˆPOCï¼‰ | 6ãƒ¶æœˆå¾Œ | 1å¹´å¾Œ |
|------|------------|---------|-------|
| äº‹æ¥­æ‰€æ•° | 1-5 | 20 | 100 |
| å…ç«¥æ•°/äº‹æ¥­æ‰€ | 15 | 15 | 30 |
| éŒ²éŸ³é »åº¦ | é€±2-3å› | é€±5å› | é€±10å› |
| éŸ³å£°é•·ã• | 1åˆ† | 30åˆ† | 60åˆ† |
| æœˆé–“å‡¦ç†æ•° | 50 | 400 | 4,000 |

### ã‚³ã‚¹ãƒˆè©¦ç®—ï¼ˆæœˆé¡ï¼‰

| é …ç›® | æ–™é‡‘ |
|------|------|
| S3ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | $10ï¼ˆ100GBæƒ³å®šï¼‰ |
| Groq API | ç„¡æ–™æ å†… |
| OpenAI GPT-4o | $50ï¼ˆ4,000å› Ã— 2,000ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ |
| æ—¢å­˜EC2æ´»ç”¨ | $0ï¼ˆè¿½åŠ ãªã—ï¼‰ |
| **åˆè¨ˆ** | **ç´„$60/æœˆ** |

---

## ğŸš€ å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

### Step 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ1é€±ç›®ï¼‰
- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ
- [ ] S3ãƒã‚±ãƒƒãƒˆä½œæˆï¼ˆwatchme-businessï¼‰
- [ ] Supabaseãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
- [ ] FastAPIåŸºæœ¬æ§‹é€ 

### Step 2: éŸ³å£°å‡¦ç†ï¼ˆ2é€±ç›®ï¼‰
- [ ] éŒ²éŸ³UIå®Ÿè£…
- [ ] S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- [ ] Groq Whisperé€£æº
- [ ] æ–‡å­—èµ·ã“ã—çµæœè¡¨ç¤º

### Step 3: AIåˆ†æï¼ˆ3é€±ç›®ï¼‰
- [ ] GPT-4oãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ
- [ ] æ§‹é€ åŒ–å‡¦ç†å®Ÿè£…
- [ ] DBä¿å­˜å‡¦ç†

### Step 4: UIå®Ÿè£…ï¼ˆ4é€±ç›®ï¼‰
- [ ] è¨ˆç”»æ›¸è¡¨ç¤ºç”»é¢
- [ ] ç·¨é›†æ©Ÿèƒ½ï¼ˆç°¡æ˜“ï¼‰
- [ ] Excelå‡ºåŠ›ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹

### å€‹äººæƒ…å ±ä¿è­·
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿ï¼šæ°¸ç¶šä¿å­˜ï¼ˆå°†æ¥çš„ã«ä¿å­˜æœŸé–“ãƒãƒªã‚·ãƒ¼æ¤œè¨ï¼‰
- ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ï¼šå…¨æ“ä½œã‚’è¨˜éŒ²
- æš—å·åŒ–ï¼šS3ã¯æš—å·åŒ–ã€DBã¯æ—¢å­˜Supabaseè¨­å®šæº–æ‹ 

### èªè¨¼ï¼ˆPOCæ®µéšï¼‰
- å›ºå®šAPIãƒˆãƒ¼ã‚¯ãƒ³æ–¹å¼
- å°†æ¥çš„ã«Supabase Authçµ±åˆ

---

## ğŸ“ å‚™è€ƒ

### æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é–¢ä¿‚
- B2Cï¼ˆWatchMeï¼‰ã¨ã¯å®Œå…¨åˆ†é›¢
- APIã‚­ãƒ¼ï¼ˆGroq, OpenAIï¼‰ã¯å…±æœ‰å¯èƒ½
- EC2ãƒªã‚½ãƒ¼ã‚¹ã¯å…±æœ‰ï¼ˆDockerã‚³ãƒ³ãƒ†ãƒŠã§åˆ†é›¢ï¼‰

### ä»Šå¾Œã®æ‹¡å¼µ
- æ—¥ã€…ã®è¦³å¯Ÿè¨˜éŒ²
- é€£çµ¡å¸³æ©Ÿèƒ½
- è«‹æ±‚æ¥­å‹™è‡ªå‹•åŒ–
- ä¿è­·è€…å‘ã‘ã‚¢ãƒ—ãƒª

---

## âœ… æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **S3ãƒã‚±ãƒƒãƒˆä½œæˆ**ï¼ˆwatchme-businessï¼‰
2. **Supabaseã‚¹ã‚­ãƒ¼ãƒä½œæˆ**ï¼ˆbusinessã‚¹ã‚­ãƒ¼ãƒï¼‰
3. **Groq/OpenAI APIã‚­ãƒ¼ç¢ºèª**
4. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…é–‹å§‹**